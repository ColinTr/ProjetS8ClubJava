<ui:composition template="./template/mainTemplate.xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://xmlns.jcp.org/jsf/passthrough">

   <ui:define name="pageContent">
   		
		
   		<h1>TOP COMMENTS</h1>
   		
   		<br />
   		
   		<h1>GOLDEN BOOK</h1>
   		
   		<h:dataTable value="#{commentBean.comments}" var="comment" style="width: 60%; margin: auto;">
			<h:column>
				<f:facet name="header">First name</f:facet>
				#{comment.member.firstName} 
			</h:column>
			<h:column>
				<f:facet name="header">Last name</f:facet>
				#{comment.member.lastName}
			</h:column>
			<h:column>
				<f:facet name="header">Comment</f:facet>
				#{comment.text}
			</h:column>
			<h:column>
				<f:facet name="header">Date</f:facet>
				#{comment.commentDate}
			</h:column>
			<h:column>
				<f:facet name="header">Like</f:facet>
				<h:form id="likeForm">
					<h:commandButton value="Like" action="#{commentBean.like(comment.commentId)}" />
				</h:form>
			</h:column>
			<h:column>
				<f:facet name="header">Number of likes</f:facet>
				#{comment.numberOfLikes}
			</h:column>
		</h:dataTable>
   		
   		<br />
   		
   		<h1>LEAVE A COMMENT</h1>
		<h:form id="commentForm">
		 	<h:inputTextarea id="commentText" class="form-control" rows="3" value="#{commentBean.commentText}" required="true" p:required="true" p:placeholder="Tell us all about your love for cats" />
		 	<h:commandButton class="btn btn-primary" action="#{commentBean.postCommentAction}" value="Leave a comment" />
		</h:form>
   		<br />
   		
   </ui:define>
</ui:composition>